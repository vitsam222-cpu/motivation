<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Мотивация для души</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta name="theme-color" content="#f4edf8" />

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #fdf2ff 0, #e3f2ff 42%, #dde7f0 80%, #d8e7e4 100%);
      color: #1f2933;
    }

    .app {
      width: 100%;
      max-width: 480px;
      padding: 24px 16px 32px;
    }

    .card {
      background: rgba(255, 255, 255, 0.7);
      border-radius: 22px;
      padding: 22px 18px 24px;
      box-shadow: 0 20px 45px rgba(15, 23, 42, 0.12);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      border: 1px solid rgba(255, 255, 255, 0.8);
      position: relative;
      overflow: hidden;
    }

    .title {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 6px;
      text-align: center;
      letter-spacing: 0.04em;
    }

    .subtitle {
      font-size: 14px;
      color: #6b7280;
      margin-bottom: 18px;
      text-align: center;
      line-height: 1.5;
    }

    .section-title {
      font-size: 13px;
      letter-spacing: 0.03em;
      color: #9ca3af;
      margin-bottom: 10px;
      text-align: center;
    }

    .intent-list {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      margin-bottom: 18px;
    }

    .intent {
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.9);
      background: radial-gradient(circle at top left,
        rgba(255, 255, 255, 0.9),
        rgba(244, 244, 249, 0.7),
        rgba(230, 230, 255, 0.4));
      font-size: 13px;
      padding: 10px 12px;
      text-align: center;
      cursor: pointer;
      outline: none;
      appearance: none;
      -webkit-tap-highlight-color: transparent;
      transition: background 0.18s ease, border-color 0.18s ease, transform 0.1s ease, box-shadow 0.18s ease;
      color: #374151;
      white-space: normal;
      box-shadow: 0 7px 18px rgba(148, 163, 184, 0.3);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
    }

    .intent:hover {
      background: radial-gradient(circle at top left,
        rgba(255, 255, 255, 0.95),
        rgba(240, 240, 255, 0.8));
      box-shadow: 0 9px 20px rgba(148, 163, 184, 0.35);
    }

    .intent:active {
      transform: translateY(1px);
      box-shadow: 0 4px 10px rgba(148, 163, 184, 0.3);
    }

    .intent--active {
      border-color: rgba(167, 139, 250, 0.9);
      background: radial-gradient(circle at top,
        rgba(245, 243, 255, 0.95),
        rgba(224, 231, 255, 0.9),
        rgba(221, 239, 253, 0.7));
      box-shadow: 0 0 0 1px rgba(129, 140, 248, 0.5), 0 10px 22px rgba(129, 140, 248, 0.35);
      color: #312e81;
    }

    .divider {
      height: 1px;
      width: 100%;
      background: linear-gradient(to right, transparent, #e5e7eb, transparent);
      margin: 14px 0 14px;
    }

    .phrase-block {
      opacity: 0;
      transform: translateY(4px);
      transition: opacity 0.2s ease, transform 0.2s ease;
      pointer-events: none;
    }

    .phrase-block.visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    .phrase-label {
      font-size: 12px;
      text-align: center;
      color: #9ca3af;
      margin-bottom: 8px;
    }

    .phrase {
      min-height: 96px;
      font-size: 17px;
      line-height: 1.55;
      color: #111827;
      margin-bottom: 14px;
      padding: 0 6px;
      text-align: center;
      text-wrap: balance;
    }

    .breath-toggle {
      margin-bottom: 10px;
      display: flex;
      justify-content: center;
    }

    .breath-toggle-label {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: #6b7280;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
    }

    .breath-toggle-label input {
      display: none;
    }

    .breath-toggle-ui {
      width: 34px;
      height: 18px;
      border-radius: 999px;
      background: rgba(229, 231, 235, 0.9);
      position: relative;
      transition: background 0.18s ease;
      box-shadow: inset 0 1px 3px rgba(148, 163, 184, 0.5);
    }

    .breath-toggle-ui::before {
      content: "";
      position: absolute;
      top: 2px;
      left: 3px;
      width: 14px;
      height: 14px;
      border-radius: 999px;
      background: white;
      box-shadow: 0 1px 4px rgba(148, 163, 184, 0.9);
      transition: transform 0.18s ease;
    }

    .breath-toggle-label input:checked + .breath-toggle-ui {
      background: linear-gradient(90deg, #c7d2fe, #a5b4fc);
    }

    .breath-toggle-label input:checked + .breath-toggle-ui::before {
      transform: translateX(13px);
    }

    .button-primary {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      width: 100%;
      padding: 11px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.95);
      background: radial-gradient(circle at top,
        rgba(255, 255, 255, 0.95),
        rgba(241, 241, 255, 0.8),
        rgba(228, 242, 255, 0.75));
      font-size: 14px;
      font-weight: 500;
      letter-spacing: 0.02em;
      color: #374151;
      cursor: pointer;
      outline: none;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
      transition: background 0.16s ease, border-color 0.16s ease, transform 0.08s ease, box-shadow 0.16s ease;
      box-shadow: 0 6px 16px rgba(148, 163, 184, 0.3);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }

    .button-primary:hover {
      background: radial-gradient(circle at top,
        rgba(255, 255, 255, 1),
        rgba(236, 239, 255, 0.95));
      border-color: rgba(226, 232, 240, 1);
      box-shadow: 0 8px 18px rgba(148, 163, 184, 0.35);
    }

    .button-primary:active {
      transform: translateY(1px);
      box-shadow: 0 4px 12px rgba(148, 163, 184, 0.32);
    }

    .button-icon {
      font-size: 14px;
    }

    .note {
      margin-top: 10px;
      font-size: 11px;
      color: #9ca3af;
      text-align: center;
    }

    /* Оверлей дыхания */

    .breath-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, rgba(249, 250, 251, 0.9), rgba(209, 213, 219, 0.7));
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      z-index: 20;
    }

    .breath-overlay.visible {
      display: flex;
    }

    .breath-inner {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 24px;
      padding: 20px 22px 18px;
      max-width: 320px;
      width: 86%;
      text-align: center;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.22);
      border: 1px solid rgba(255, 255, 255, 0.9);
    }

    .breath-circle {
      width: 90px;
      height: 90px;
      margin: 0 auto 14px;
      border-radius: 50%;
      border: 1px solid rgba(156, 163, 175, 0.5);
      box-shadow: 0 0 0 6px rgba(209, 213, 219, 0.4);
      background: radial-gradient(circle at top, #eef2ff, #e0f2fe);
      animation: breathPulse 4.2s ease-in-out infinite;
    }

    .breath-text {
      font-size: 15px;
      margin-bottom: 6px;
      color: #374151;
    }

    .breath-note {
      font-size: 12px;
      color: #9ca3af;
    }

    @keyframes breathPulse {
      0% {
        transform: scale(0.9);
        opacity: 0.85;
      }
      40% {
        transform: scale(1.05);
        opacity: 1;
      }
      70% {
        transform: scale(0.92);
        opacity: 0.92;
      }
      100% {
        transform: scale(0.9);
        opacity: 0.85;
      }
    }

    @media (max-width: 480px) {
      .card {
        padding: 20px 14px 22px;
        border-radius: 18px;
      }

      .title {
        font-size: 20px;
      }

      .intent-list {
        grid-template-columns: 1fr;
      }

      .phrase {
        font-size: 16px;
        min-height: 90px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="card">
      <div class="title">Мотивация для души</div>
      <div class="subtitle">
        Мягкие фразы поддержки<br>
        на каждый день.
      </div>

      <div class="section-title">С чем ты сегодня?</div>

      <div class="intent-list">
        <button class="intent" data-intent="tired">Выгорел и устал</button>
        <button class="intent" data-intent="energy">Хочу заряд на весь день</button>
        <button class="intent" data-intent="motivation">Просто хочу мотивации</button>
        <button class="intent" data-intent="future">Предсказание на будущее</button>
      </div>

      <div class="divider"></div>

      <div id="phrase-block" class="phrase-block">
        <div id="phrase-label" class="phrase-label">Выбери состояние выше, и мы подберём фразу.</div>
        <div id="phrase" class="phrase">
          Сделай мягкий вдох, медленный выдох… и выбери то, что откликается именно сейчас.
        </div>

        <div class="breath-toggle">
          <label class="breath-toggle-label">
            <input type="checkbox" id="breath-toggle" checked>
            <span class="breath-toggle-ui"></span>
            <span class="breath-toggle-text">Небольшая дыхательная пауза перед фразой</span>
          </label>
        </div>

        <button id="btn" class="button-primary">
          <span class="button-icon">✶</span>
          <span>Новая фраза</span>
        </button>

        <div class="note">
          Можно нажимать несколько раз — фразы меняются в выбранной категории.
        </div>
      </div>
    </div>
  </div>

  <!-- Оверлей дыхания -->
  <div id="breath-overlay" class="breath-overlay">
    <div class="breath-inner">
      <div class="breath-circle"></div>
      <div id="breath-text" class="breath-text">Сделай мягкий вдох…</div>
      <div class="breath-note">Три мягких дыхания — и я покажу фразу.</div>
    </div>
  </div>

  <script>
    const categories = {
      tired: [
        "Тебе можно быть уставшим. Мир подождёт, пока ты заботишься о себе.",
        "Сейчас важнее всего не продуктивность, а мягкость к себе.",
        "Ты уже сделал достаточно. Сейчас можно просто дышать.",
        "Отдых — это не слабость, а способ сохранить себя.",
        "Тебе не нужно ничего доказывать. Ты уже имеешь право на паузу.",
        "Даже если ты выгорел, внутри всё ещё есть тихая искра. Ей просто нужен покой.",
        "Ты не обязан быть сильным каждый день. Иногда достаточно просто быть.",
        "Твоё тело и психика не враги — они просят о заботе, а не о ещё одном рывке.",
        "Иногда лучший шаг вперёд — это один шаг назад и день тишины.",
        "Ты можешь замедлиться. Мир не рухнет от того, что ты позаботишься о себе.",
        "Важно не то, сколько ты делаешь, а как ты к себе относишься, пока делаешь.",
        "Состояние «ничего не хочется» — тоже сигнал, а не приговор.",
        "Твоё выгорание — не слабость, а знак, что ты слишком долго был для всех, а не для себя.",
        "Сейчас можно не думать о больших целях. Достаточно подумать о своём спокойствии.",
        "Ты имеешь право выключить телефон, мир и ожидания других людей.",
        "Иногда самое продуктивное — лечь, укутаться и позволить себе выдохнуть.",
        "Твоё внутреннее «я» шепчет: «Услышь меня, мне нужен отдых» — и это важно.",
        "Ты не ленивый — ты уставший. Это разное.",
        "Ты так долго держался, что усталость — логичный результат, а не твоя вина.",
        "Ты не обязан спасать мир, когда сам нуждаешься в спасательном круге.",
        "Пусть сегодня твоя задача будет всего одна: быть к себе бережным.",
        "Выгорание — это не конец, а пауза, в которой ты заново узнаёшь себя.",
        "Ты можешь не успевать. Важнее — не потерять себя по дороге.",
        "Ты всё ещё ценен, даже когда ничего не можешь и ни на что нет сил.",
        "Просто посиди рядом со своей усталостью, не осуждая её.",
        "Твоё тело знает, когда пора остановиться. Прислушайся к нему.",
        "Усталость не делает тебя хуже — она делает тебя живым.",
        "Ты имеешь право сказать «мне тяжело» и не объяснять, почему.",
        "Сейчас можно выбрать самое простое действие, а остальное отложить.",
        "Ты не сломан, ты истощён. Это лечится временем и заботой.",
        "Даже если мир ждёт от тебя скорости, ты можешь выбрать медленность.",
        "Брать паузу — это тоже движение вперёд, просто в другом темпе.",
        "Не обязательно сразу восстанавливаться, можно пока просто перестать себя давить.",
        "Ты достаточно сделал для других. Сейчас время сделать что-то для себя.",
        "Усталость не против тебя, она за тебя — она просит остановиться.",
        "Ты можешь отказать задачам, которые истощают, и согласиться на те, что поддерживают.",
        "Важно не вернуться прежним, а позволить себе стать более бережным к себе.",
        "Тебе не нужно быть продуктивным, чтобы быть достойным отдыха.",
        "С каждым выдохом отпускай хотя бы по одной мысли, которая давит.",
        "Даже если мир вокруг громкий, ты можешь создать внутри маленькую тихую комнату.",
        "Сегодня позаботься о себе так, как заботился бы о самом дорогом человеке.",
        "Твоё выгорание — не показатель твоей несостоятельности, а показатель твоей нагрузки.",
        "Иногда твой лучший вклад в мир — это восстановленный, а не выжатый до нуля ты.",
        "Пусть сегодня твой план будет мягким, а ожидания от себя — ещё мягче.",
        "Ты не один в этом состоянии. Многим сейчас тяжело — и это можно признать.",
        "Ты не обязан всё держать под контролем. Можно чуть-чуть отпустить.",
        "Твоё сердце устало от гонки — дай ему день прогулки, а не забега.",
        "Если тяжело — это не значит, что ты не справишься. Это значит, что пора остановиться и подышать.",
        "Твоя ценность не измеряется количеством дел, выполненных в состоянии истощения.",
        "Даже когда ты ничего не делаешь, внутри продолжается важная работа по восстановлению."
      ],
      energy: [
        "Сегодня у тебя есть шанс наполнить день тем, что откликается сердцу.",
        "Каждое твоё действие — маленький вклад в ту жизнь, о которой ты мечтаешь.",
        "Энергия приходит не из идеальности, а из движения, которое тебе по душе.",
        "Сделай один небольшой шаг — и день уже станет другим.",
        "Ты можешь выбрать: реагировать на день или создавать его.",
        "Сконцентрируйся только на следующем маленьком действии — и энергия подтянется.",
        "Ты не обязан сделать сегодня всё. Но ты можешь сделать что-то важное.",
        "Начни с того, что вдохновляет хоть на 5%. Остальное подтянется.",
        "Пусть сегодняшний день станет экспериментом: что, если ты чуть больше доверишь себе?",
        "Твоя энергия растёт там, где есть интерес, смысл и честность с собой.",
        "Выбери одно дело, которое правда тебя оживляет, и начни с него.",
        "Сегодня можно сделать день чуть светлее, чем вчера — хотя бы одним действием.",
        "Когда ты делаешь то, что любишь, даже усталость становится мягче.",
        "Энергия часто приходит после действия, а не до него.",
        "Не гони себя — просто выбери направление и сделай шаг туда.",
        "Ты имеешь право двигаться в своём темпе и всё равно приходить к цели.",
        "Сегодня можно быть не идеальным, а живым и настоящим.",
        "Даже маленькое утреннее действие может задать тон всему дню.",
        "Сделай что-то, что напомнит тебе: жизнь — это не только задачи, но и вкус.",
        "Выбирай не «как правильно», а «как откликается» — там живёт твоя сила.",
        "Пусть сегодня день будет не про борьбу, а про сотрудничество с собой.",
        "Ты можешь изменить настроение дня, начав с одного заботливого выбора.",
        "Энергия возвращается, когда ты перестаёшь делать всё «надо» и добавляешь немного «хочу».",
        "Спроси себя: «Что даст мне хотя бы каплю энергии?» — и сделай это сначала.",
        "Ты можешь не знать всего плана, достаточно видеть следующий шаг.",
        "Даже если утро началось тяжело, день всё ещё можно развернуть в свою сторону.",
        "Твоя сила — не в скорости, а в устойчивости и честности с собой.",
        "Когда ты выбираешь живость вместо автоматизма, день становится ярче.",
        "Сделай паузу, потянись, улыбнись — иногда энергия приходит в этих простых жестах.",
        "Ты можешь добавить в день что-то красивое, и это тоже заряд.",
        "Попроси у мира поддержки — иногда она приходит очень тихими способами.",
        "Энергия любит ясность: выбери одну-две вещи, на которых сосредоточишься.",
        "Сегодня можно сделать меньше, но с большим присутствием.",
        "Ты не обязан тащить чужие ожидания — отложи лишнее и возьми только своё.",
        "Пусть сегодняшний день станет чуть мягче, но не менее осознанным.",
        "Ты имеешь право выбирать не сложный путь, а бережный.",
        "Сделай что-то только для себя — не полезное, а приятное.",
        "Твоя внутренняя искра ещё здесь. Ей можно помочь маленьким вдохновляющим действием.",
        "Даже если ощущаешь усталость, у тебя всё равно есть право на радость.",
        "Энергия приходит туда, где ей рады — прояви к себе тёплое внимание.",
        "Позволь себе вдохновиться чем-то внешним: музыкой, светом, людьми.",
        "Сделай сегодня хотя бы одну вещь не из «надо», а из «люблю».",
        "Если не знаешь, с чего начать — начни с простого: воды, воздуха, движения.",
        "Ты можешь пересобрать свой день в любой момент — он ещё не определён окончательно.",
        "Каждый твой осознанный вдох — это маленький заряд для тела и души.",
        "Твоя энергия — ресурс, а не обязанность. Ты можешь распоряжаться ей по-своему.",
        "Позволь себе радоваться маленьким вещам — это тоже топливо.",
        "Сегодня можно быть чуть добрее к себе — это тоже добавит сил.",
        "Внутри тебя больше ресурсов, чем кажется в самые тяжёлые утра.",
        "Пусть день станет не марафоном, а красивой прогулкой, где можно и остановиться, и полюбоваться вокруг."
      ],
      motivation: [
        "Сегодня отличный день, чтобы сделать первый шаг.",
        "Не обязательно быть идеальным — достаточно быть лучше, чем вчера.",
        "Маленькие шаги каждый день приводят к большим результатам.",
        "Если не попробуешь — так и не узнаешь, на что ты способен.",
        "Твоя будущая версия себя скажет спасибо за усилия сегодня.",
        "Мечты работают, только если работаешь ты.",
        "Каждое маленькое действие — кирпичик в большом результате.",
        "Ты можешь больше, чем тебе кажется.",
        "Ошибки — это не поражение, а обратная связь.",
        "Начни с малого, но начни.",
        "Важен не идеальный старт, а постоянное движение.",
        "Не бойся делать медленные шаги, бойся стоять на месте.",
        "Лучше сделать неидеально, чем не сделать идеально.",
        "Твои мысли формируют твою реальность. Выбирай их осознанно.",
        "Не обесценивай маленькие победы — из них строятся большие.",
        "Пока ты думаешь, что поздно — кто-то просто начал.",
        "Никто не видит, сколько ты вложил, но все увидят результат.",
        "Твоя скорость не важна, если ты не останавливаешься.",
        "Иногда “ещё один шаг” — это всё, что нужно, чтобы не сдаться.",
        "У тебя уже есть всё необходимое, чтобы начать.",
        "Твои желания — это не каприз, а направление для роста.",
        "Ты не обязан знать весь путь, важно не останавливаться.",
        "Каждый день ты можешь выбрать чуть более смелую версию себя.",
        "Даже если вчера не получилось, сегодня — новая попытка.",
        "Ты можешь изменить сценарий, даже если долго играл по старым правилам.",
        "Не жди вдохновения, начни действовать — вдохновение любит движение.",
        "Даже если шаг маленький, он всё равно выводит тебя из точки, где ты был.",
        "Ты имеешь право на большие цели, даже если пока делаешь маленькие шаги.",
        "Твои мечты ценны уже потому, что они твои.",
        "Сомнения не означают, что ты идёшь не туда — они означают, что ты выходишь за привычные рамки.",
        "Не все увидят твой путь, но именно ты знаешь, зачем тебе идти дальше.",
        "Не обесценивай себя только потому, что путь занял больше времени.",
        "Каждый раз, когда ты выбираешь не сдаться, ты уже побеждаешь.",
        "Ты можешь поменять направление, не переставая двигаться вперёд.",
        "Сделай сегодня что-то, что твоё «будущее я» назовёт мудрым шагом.",
        "Даже если ты пока не видишь результата, внутри уже идёт большая работа.",
        "Твои усилия складываются в то, что однажды назовут «везением».",
        "Когда страшно — это часто знак, что ты растёшь, а не ошибаешься.",
        "Ты не обязан делать как все, чтобы прийти к своему.",
        "Сделай собой то, что хотел бы видеть в своей жизни.",
        "Не сравнивай свой путь с чужой картинкой успеха.",
        "Сегодня — хороший день, чтобы быть на шаг ближе к тому, что тебе важно.",
        "Ты достоин не только выживания, но и жизни с интересом и вкусом.",
        "Если тебе тяжело — ты не слабый, ты живой и идёшь через сопротивление.",
        "Ты можешь менять решения, но не отказывайся от себя.",
        "Каждый честный шаг к мечте уже делает тебя другим человеком.",
        "Не жди, пока исчезнет страх — иди рядом с ним, но в сторону своих целей.",
        "Ты уже не там, где был. Это тоже прогресс.",
        "Самое смелое — не притворяться, что тебе всё равно, а признать, чего ты на самом деле хочешь.",
        "Твоя история ещё пишется — у тебя есть право сделать её интересной."
      ],
      future: [
        "Твоё будущее мягко выстраивается вокруг решений, которые ты принимаешь в свою пользу.",
        "В ближайшее время в твоей жизни появится больше ясности, чем хаоса.",
        "Один небольшой честный шаг к себе сейчас откроет большую дверь в будущем.",
        "Впереди у тебя будут люди и события, которые подтвердят: ты всё это время двигался не зря.",
        "Предстоящие месяцы принесут больше внутреннего спокойствия, чем ты ожидаешь.",
        "Твоя жизнь постепенно разворачивается в сторону того, где тебе будет легче дышать.",
        "То, что сейчас кажется задержкой, может оказаться удачной перенастройкой пути.",
        "Ты встретишь ситуации, которые напомнят: ты гораздо устойчивее, чем думал.",
        "Будущее не фиксировано — оно откликается на твою готовность выбирать себя.",
        "Главное предсказание: если ты продолжишь возвращаться к себе, будущее будет мягким и живым.",
        "Впереди тебя ждут моменты, в которых ты вдруг поймёшь: «Вот ради этого я и не сдался».",
        "То, что сегодня кажется хаосом, однажды сложится в понятный узор событий.",
        "В твоей жизни появятся люди, рядом с которыми ты будешь чувствовать себя собой.",
        "Многие твои сегодняшние сомнения превратятся в благодарность за то, что ты не остановился.",
        "Твоё будущее не требует идеальности, ему нужна только твоя искренность.",
        "Очень многое сложится, когда ты разрешишь себе идти не по чужому, а по своему пути.",
        "Ты будешь ещё удивляться тому, как точно жизнь подводит нужных людей в нужный момент.",
        "Время покажет, что многие паузы были не потерей, а защитой для тебя.",
        "Будущее принесёт ситуации, в которых ты увидишь, насколько вырос за это время.",
        "Однажды ты оглянешься и поймёшь: самые тёмные периоды вели к самым светлым открытиям.",
        "Чем честнее ты сейчас с собой, тем теплее будет твой завтрашний день.",
        "Впереди есть решения, которые сначала напугают, а потом подарят большое облегчение.",
        "В твоём будущем будет место и для стабильности, и для вдохновения — не обязательно выбирать одно.",
        "Многое начнёт меняться, когда ты позволишь себе перестать жить по чужим сценариям.",
        "Есть высокая вероятность, что через какое-то время ты скажешь: «Я наконец-то живу свою жизнь».",
        "То, что сегодня не складывается, может открыть место для чего-то более подходящего тебе.",
        "В твоём будущем будет больше спокойных «да» себе и уверенных «нет» лишнему.",
        "Ближайшее время принесёт тебе несколько маленьких, но очень тёплых совпадений.",
        "Ты ещё неоднократно удивишься, как поддерживающе может разворачиваться жизнь, когда ты выбираешь себя.",
        "Впереди тебя ждут моменты, когда ты будешь чувствовать: «Я на своём месте».",
        "Твоя интуиция со временем станет главным ориентиром — и ты научишься ей доверять.",
        "То, о чём ты сейчас тихо мечтаешь, уже ищет путь, чтобы проявиться в твоей жизни.",
        "Некоторые люди уйдут из твоего пути, чтобы освободить пространство тем, кто будет рядом по-настоящему.",
        "Ты будешь ещё не раз удивляться, как много ты можешь, когда перестаёшь себя занижать.",
        "Будущее принесёт ответы на вопросы, которые сейчас кажутся слишком сложными.",
        "Со временем ты увидишь, что многие страхи были тенями, а не реальными преградами.",
        "Тебя ждут события, которые помогут тебе поверить в себя глубже, чем когда-либо.",
        "Предстоящие изменения могут оказаться мягче и добрее, чем твои страхи о них.",
        "Ты постепенно создаёшь жизнь, в которой будет больше «могу» и меньше «обязан».",
        "Твоё будущее не соревнуется с прошлым — оно хочет дать тебе новый опыт.",
        "Чем больше ты выбираешь себя, тем больше мир подстраивается под твой настоящий ритм.",
        "Впереди есть встречи, после которых ты скажешь: «Вот с кем мне по пути».",
        "Ты будешь ещё благодарить себя за те моменты, когда выбрал не предать себя ради чужого комфорта.",
        "Через время ты станешь для кого-то доказательством, что можно прожить жизнь по-своему.",
        "Многие из твоих сегодняшних переживаний окажутся временными, а приобретённый опыт — очень ценным.",
        "Будущее готовит для тебя не только испытания, но и приятные сюрпризы.",
        "Чем добрее ты к себе сейчас, тем устойчивее будешь в завтрашних событиях.",
        "Однажды ты проснёшься и поймёшь, что живёшь в той реальности, о которой когда-то только думал.",
        "Твоё будущее — не приговор, а пространство, которое ты постепенно наполняешь своими выборами.",
        "Впереди тебя ждут дни, когда твоё внутреннее «спасибо себе» будет звучать особенно громко."
      ]
    };

    const intentButtons = Array.from(document.querySelectorAll(".intent"));
    const phraseBlock = document.getElementById("phrase-block");
    const phraseEl = document.getElementById("phrase");
    const phraseLabelEl = document.getElementById("phrase-label");
    const btn = document.getElementById("btn");
    const breathToggle = document.getElementById("breath-toggle");
    const breathOverlay = document.getElementById("breath-overlay");
    const breathText = document.getElementById("breath-text");

    let currentCategory = null;
    let lastIndexByCategory = {};
    let breathingEnabled = true;
    let isBreathing = false;

    function getCategoryLabel(key) {
      switch (key) {
        case "tired":
          return "Поддержка, когда ты устал";
        case "energy":
          return "Заряд на день";
        case "motivation":
          return "Мягкая мотивация";
        case "future":
          return "Небольшое послание о будущем";
        default:
          return "";
      }
    }

    function getRandomPhrase(category) {
      const list = categories[category];
      if (!list || list.length === 0) return "";

      let newIndex = Math.floor(Math.random() * list.length);
      const lastIndex = lastIndexByCategory[category];

      if (list.length > 1 && newIndex === lastIndex) {
        newIndex = (newIndex + 1) % list.length;
      }

      lastIndexByCategory[category] = newIndex;
      return list[newIndex];
    }

    function showRandomPhrase() {
      if (!currentCategory) {
        phraseLabelEl.textContent = "Сначала выбери состояние выше.";
        return;
      }

      const newPhrase = getRandomPhrase(currentCategory);
      phraseEl.textContent = newPhrase || "Сегодня слов немного. Просто побудь рядом с собой.";
      phraseLabelEl.textContent = getCategoryLabel(currentCategory);
    }

    function startBreathingThenShowPhrase() {
      if (!currentCategory) {
        phraseLabelEl.textContent = "Сначала выбери состояние выше.";
        return;
      }

      if (isBreathing) return;
      isBreathing = true;

      breathOverlay.classList.add("visible");
      btn.disabled = true;

      const steps = [
        { text: "Сделай мягкий вдох…", duration: 3000 },
        { text: "Небольшая пауза…", duration: 2000 },
        { text: "Медленный выдох…", duration: 3500 },

        { text: "Ещё один мягкий вдох…", duration: 3000 },
        { text: "Пауза…", duration: 2000 },
        { text: "Медленный выдох…", duration: 3500 },

        { text: "Последний вдох…", duration: 3000 },
        { text: "Выдох — и я покажу фразу.", duration: 3500 }
      ];

      let index = 0;

      function runStep() {
        if (index >= steps.length) {
          breathOverlay.classList.remove("visible");
          isBreathing = false;
          btn.disabled = false;
          showRandomPhrase();
          return;
        }

        const step = steps[index];
        breathText.textContent = step.text;

        setTimeout(() => {
          index++;
          runStep();
        }, step.duration);
      }

      runStep();
    }

    breathToggle.addEventListener("change", () => {
      breathingEnabled = breathToggle.checked;
    });

    intentButtons.forEach((button) => {
      button.addEventListener("click", () => {
        const chosen = button.getAttribute("data-intent");
        currentCategory = chosen;

        intentButtons.forEach((b) => b.classList.remove("intent--active"));
        button.classList.add("intent--active");

        phraseBlock.classList.add("visible");
        showRandomPhrase();
      });
    });

    btn.addEventListener("click", () => {
      if (breathingEnabled) {
        startBreathingThenShowPhrase();
      } else {
        showRandomPhrase();
      }
    });
  </script>
</body>
</html>
